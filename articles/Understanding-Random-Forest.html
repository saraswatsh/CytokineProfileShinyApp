<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Understanding-Random-Forest • CytokineProfileShinyApp</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Understanding-Random-Forest">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">CytokineProfileShinyApp</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news">
<li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/saraswatsh/CytokineProfileShinyApp/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Understanding-Random-Forest</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/saraswatsh/CytokineProfileShinyApp/blob/master/vignettes/Understanding-Random-Forest.Rmd" class="external-link"><code>vignettes/Understanding-Random-Forest.Rmd</code></a></small>
      <div class="d-none name"><code>Understanding-Random-Forest.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="random-forest">Random Forest<a class="anchor" aria-label="anchor" href="#random-forest"></a>
</h2>
<p>Random Forest is an ensemble of decision trees that averages many
randomized trees to reduce variance and improve prediction accuracy.
This page shows how to interpret the key plots produced by the app and
how to reproduce them.</p>
</div>
<div class="section level2">
<h2 id="example-results">Example Results<a class="anchor" aria-label="anchor" href="#example-results"></a>
</h2>
<p>For this brief interpretation tutorial, we will use the results
generated by filtering the <code>ExampleData1</code> dataset built into
the application and only including subjects with Pre-Diabetes (PreT2D)
and Type 2 Diabetes (T2D). Summary of the model is not covered in this
tutorial however, the summary tab within the results provides confusion
matrices on the training and testing set to evaluate how the model
performed when classifying the two different groups.</p>
<div class="section level3">
<h3 id="variable-importance-plot-based-on-mean-decrease-in-gini-index">Variable Importance Plot based on Mean Decrease in Gini Index<a class="anchor" aria-label="anchor" href="#variable-importance-plot-based-on-mean-decrease-in-gini-index"></a>
</h3>
<p><img src="../reference/figures/rf_vignette_Page_1.png"></p>
<p>The bars rank the variables (cytokines in our case) by how much they
reduce node impurity across the forest. Higher bars imply greater
influence on the model’s splits. There is no specific cutoff value that
helps determine which variables are the most important, however we can
still see that IL-122, CCL-20/MIP-3A, TNF-A and a few other cytokines
have have a mean decrease in Gini &gt; 4. These cytokines would be
considered to be more influential than TNF-B and IL-31 for example.</p>
</div>
<div class="section level3">
<h3 id="receiver-operating-characteristic-roc-curve-and-area-under-the-curve-auc">Receiver Operating Characteristic (ROC) Curve and Area Under the
Curve (AUC)<a class="anchor" aria-label="anchor" href="#receiver-operating-characteristic-roc-curve-and-area-under-the-curve-auc"></a>
</h3>
<p><img src="../reference/figures/rf_vignette_Page_2.png"></p>
<p>The ROC curve and AUC value is a great way to evaluate the model’s
performance as the curve plots the true positive rate (sensitivity)
against the false positive rate (1-specificity). The AUC value provides
a single measure of a model’s ability to classify the groups being
compared, with values closer to 1 indicating better performance.</p>
<p>In our example analysis, we achieved an AUC of 0.93 that would show
that the model performed really well when classifying subjects with
PreT2D vs. T2D based on the cytokines as predictors.</p>
</div>
<div class="section level3">
<h3 id="cross-validation-performance">Cross-Validation Performance<a class="anchor" aria-label="anchor" href="#cross-validation-performance"></a>
</h3>
<p><img src="../reference/figures/rf_vignette_Page_3.png"></p>
<p>In the cross-validation for Random Forest, each point is a model
refit with a smaller feature set and error is estimated with K‑fold CV.
We look for the elbow where error stops improving meaningfully as
variables increase and based on that pick a compact subset near that
elbow. In our case, ≈ 12 variables or more would give us a low error
rate in classification meaning we would see a higher accuracy in
classification as the model is able to perform well and differentiate
between the two compared groups.</p>
</div>
<div class="section level3">
<h3 id="below-is-a-short-animation-on-how-to-obtain-the-same-result-from-the-application">Below is a short animation on how to obtain the same result from the
application:<a class="anchor" aria-label="anchor" href="#below-is-a-short-animation-on-how-to-obtain-the-same-result-from-the-application"></a>
</h3>
<p><img src="../reference/figures/rf.gif"></p>
<p>To briefly describe the arguments:</p>
<ul>
<li>Number of Trees: How many trees the forest grows. More trees will
usually stabilize performance.</li>
<li>Number of Variables to Split: How many variables the tree is allowed
to consider at each split. Smaller number means more diverse trees;
larger number means stronger individual trees but more similar to each
other. A common default number would be roughly the square-root of the
total number of features. For example, if we have 25 variables, we would
enter 5 and adjust based on the results including cross-validation
results.</li>
<li>Train Fraction: How the dat are split into train and test sets. It
requires a percentage between 0.1-0.9, so for example entering 0.7, 70%
of the inputted data would be split into training and the remaining 30%
will be used for testing.</li>
<li>Number of Folds: the number of folds used in k-fold cross-validation
when running random forest cross-validation (RFCV).</li>
<li>Step Size: This controls how aggressively variables are pruned
between the steps when RFCV is running. For example, with a step size of
0.5, the variable count is approximately halved at each step.</li>
</ul>
<hr>
<p><em>Last updated:</em> December 13, 2025</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Shubh Saraswat, Xiaohua Douglas Zhang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
